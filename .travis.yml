language: python
python:
  - "2.6"
  - "2.7"
# Need mongodb for testing
services: mongodb
# command to install dependencies
install: "pip install -q -r requirements_for_tests.txt --use-mirrors"
# command to run tests
script:
  - nosetests --with-coverage --cover-package=backdrop --cover-inclusive
  - coveralls --verbose
  - behave
  - ./pep-it.sh
after_script:
  - coverage report -m --omit="$VIRTUAL_ENV,./features"
branches:
  except:
    - master
    - release
